<%
  # bitcoin = 1.0

  # # connect to the Blockchain.com Exchange Rates API
  # # DON'T CHANGE THIS CODE
  # # ----------------------
  # require "net/http"
  # require "json"
  # url = "https://blockchain.info/ticker"
  # uri = URI(url)
  # response = Net::HTTP.get(uri)
  # bitcoin_data = JSON.parse(response)
  # # ----------------------

  # # using the API, extract current rate of bitcoin in USD
  # usd_rate = bitcoin_data["USD"]["last"]

  # # calculate value in USD of user's bitcoin
  # usd_value = usd_rate * bitcoin
%>

<form action="">
<label for="">How many bitcoin do you have?</label>
<input type="text" id="amount" name="amount" value="<%= @bitcoin %>">
<button>Submit</button>
<a href="/bitcoins">Cancel</a>
<% #this last bit wipes out the query string by taking it back. %>
</form>

<% # <%= params %>
<% # params shows us the params in the form of a hash, 
# which we can then use on the backend
# we added the query string ?amount=3.2 to create a parameter %>
<% # should also in theory add an IF to make it so  
# the last bit only shows if amount <> 0
 %>

<p>You have <%= @bitcoin %> Bitcoin.</p>
<p>1 Bitcoin is valued at $<%= @usd_rate %> USD.</p>
<p>Your Bitcoin is worth $<%= @usd_value %>.</p>